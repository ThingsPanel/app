{"version":3,"sources":["uni-app:///main.js","webpack:///E:/project/Y-渔业可视化/ThingsPanelPig0110/ThingsPanelPig/pages/fishery-monitor/fishery-monitor.vue?7d1c","webpack:///E:/project/Y-渔业可视化/ThingsPanelPig0110/ThingsPanelPig/pages/fishery-monitor/fishery-monitor.vue?ee57","webpack:///E:/project/Y-渔业可视化/ThingsPanelPig0110/ThingsPanelPig/pages/fishery-monitor/fishery-monitor.vue?1a72","webpack:///E:/project/Y-渔业可视化/ThingsPanelPig0110/ThingsPanelPig/pages/fishery-monitor/fishery-monitor.vue?31cc","uni-app:///pages/fishery-monitor/fishery-monitor.vue","webpack:///E:/project/Y-渔业可视化/ThingsPanelPig0110/ThingsPanelPig/pages/fishery-monitor/fishery-monitor.vue?1f31","webpack:///E:/project/Y-渔业可视化/ThingsPanelPig0110/ThingsPanelPig/pages/fishery-monitor/fishery-monitor.vue?ac86"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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CACA,4CACA,iDAdA,CAeA;AACA;AAEA,GApGA,EAqGA,MArGA,oBAqGA,CACA,iDACA,oCACA,iBACA,gBACA,CA1GA,EA2GA;AACA,eA5GA,2BA4GA,CACA,gCACA,kBACA,CACA,oCACA,sBACA,CACA,CAnHA,EAoHA,OApHA,qBAoHA,mBACA,oBACA,gCAKA,uCAKA,CAXA,IAaA,CAlIA,EAmIA;AACA;AACA;AACA;AACA;AACA,aACA,QADA,sBACA,CACA,yCACA,4CACA,qBACA,uDACA,qBACA,CAJA,MAIA,CACA,gDACA,CACA,CARA,MAQA,CACA,iBACA,CAXA,CAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAnCA,EAoCA,WApCA,uBAoCA,IApCA,EAoCA,CApCA,EAoCA,MApCA,EAoCA,CACA,2BACA,oBACA,CAvCA,EAwCA;AACA,eAzCA,uBAyCA,IAzCA,EAyCA,SAzCA,EAyCA,CACA,eACA,oGACA,uBACA,IAFA,MAEA,EAFA,EAEA,CACA,UACA,CACA,oGACA,uBACA,IAFA,OAEA,EAFA,EAEA,CACA,UACA,CACA,kCACA,iBACA,6FACA,gBADA,GACA,kBADA,GACA,mBADA,GACA,SADA,GACA,KAFA,IAIA,CA1DA,EA2DA;AACA,WA5DA,mBA4DA,GA5DA,EA4DA,KA5DA,EA4DA,CACA,sBACA,0BACA,4BACA,CAhEA,EAiEA;AACA,gBAlEA,wBAkEA,EAlEA,EAkEA,KAlEA,EAkEA,CACA,kCACA,sCACA,0CACA,oCACA,iBACA,gBACA,0BACA,6BACA,CA3EA,EA4EA;AACA,mBA7EA,6BA6EA,CACA,8BACA,iBACA,CACA,4BACA,CAlFA,EAmFA;AACA,eApFA,uBAoFA,GApFA,EAoFA,EApFA,EAoFA,mBACA,aACA,oBACA,aACA,CAFA,MAEA,oBACA,aACA,CACA,iCACA,OADA,EACA,QADA,EAGA,kBACA,YADA,IAGA,sDACA,wBADA,EAEA,cAFA,IAGA,MAHA,EAGA,IAHA,CAGA,gBACA,uBACA,4BACA,0BACA,2BACA,CALA,CAMA;AACA,OAVA,EAUA,OAVA,CAUA,cAVA,EAWA,wBACA,kBACA,CAFA,EAEA,IAFA,EAGA,CA/GA,EAgHA;AACA,aAjHA,uBAiHA,mBACA,kBACA,YADA,IAGA,6CACA,OADA,EAEA,UAFA,IAGA,MAHA,EAGA,IAHA,CAGA,gBACA,uBACA,8BACA,uCACA,wBACA,CAFA,EAGA,mCACA,oDACA,gDACA,CACA,CAbA,EAaA,OAbA,CAaA;AACA;AACA,OAfA;AAgBA;AACA;AACA,OAFA,EAEA,IAFA;AAGA,KAxIA;AAyIA;AACA,aA1IA,qBA0IA,IA1IA,EA0IA;AACA;AACA;AACA;AACA;AACA;AACA,4BADA;AAEA,YAFA,EAEA,IAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA;AAGA;AACA;AACA;AACA;AACA,aAJA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OA7BA;AA8BA,KA7KA;AA8KA;AACA,kBA/KA,4BA+KA;AACA;AACA,oBADA;;AAGA;AACA,mDADA;AAEA,oBAFA;AAGA,YAHA,EAGA,IAHA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAHA,MAGA;AACA;AACA;AACA;AACA;AACA,WAZA,MAYA;AACA;AACA;AACA;AACA;;AAEA,SArBA,MAqBA;AACA;AACA;AACA;AACA;AACA;AACA,OA/BA;AAgCA;AACA;AACA,OAFA,EAEA,IAFA;AAGA,KAtNA;AAuNA;AACA,cAxNA,wBAwNA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA,KA9NA;AA+NA,kBA/NA,4BA+NA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA,KArOA;AAsOA,mBAtOA,6BAsOA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA,KA5OA;AA6OA;AACA,UA9OA,oBA8OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EADA;;AAGA,SANA;;AAQA,KAzPA;AA0PA;AACA,UA3PA,oBA2PA;AACA;AACA,KA7PA;AA8PA;AACA,iBA/PA,2BA+PA;AACA;AACA;AACA,oBADA;;AAGA;AACA,sCADA;AAEA,qDAFA;AAGA,oBAHA;AAIA,YAJA,EAIA,IAJA,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAJA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAHA,MAGA;AACA;AACA;AACA;AACA;AACA,WAZA,MAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCANA,CAMA;AACA,WAPA;AAQA,SApCA,MAoCA;AACA;AACA;AACA;AACA;AACA;AACA,OA/CA,EA+CA,OA/CA,CA+CA;;AAEA,OAjDA;AAkDA;AACA;AACA,OAFA,EAEA,IAFA;AAGA,KAzTA;AA0TA;AACA,aA3TA,qBA2TA,MA3TA,EA2TA;AACA;AACA,oBADA;;AAGA;AACA,uBADA;AAEA,uBAFA;AAGA,mBAHA;AAIA,YAJA,EAIA,IAJA,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCADA;AAEA,iCAFA;AAGA,gCAHA;;AAKA;AACA,qBAPA;AAQA;AACA;AACA;AACA;AACA,oDADA;AAEA,qCAFA;AAGA,6BAHA;AAIA,yCAJA;;AAMA;AACA;AACA,eAtBA;AAuBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eANA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAJA;AAKA;AACA,eARA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAPA;AAQA;AACA;AACA;AACA,SAjEA,MAiEA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,EAEA,IAFA;AAGA,OA7EA;AA8EA,KA7YA;AA8YA;AACA,cA/YA,sBA+YA,MA/YA,EA+YA,GA/YA,EA+YA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,SAFA;AAGA,KAvZA;AAwZA;AACA,gBAzZA,wBAyZA,MAzZA,EAyZA,GAzZA,EAyZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCADA;AAEA,0BAFA;AAGA,YAHA,EAGA,IAHA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAfA;AAgBA,KA/aA;AAgbA;AACA,cAjbA,sBAibA,WAjbA,EAibA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UADA,CACA,CADA;AAEA,KA5bA;AA6bA,QA7bA,gBA6bA,CA7bA,EA6bA;AACA;AACA,KA/bA;AAgcA,kBAhcA,0BAgcA,KAhcA,EAgcA,KAhcA,EAgcA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAheA,EAxIA,E;;;;;;;;;;;;;ACzOA;AAAA;AAAA;AAAA;AAAspC,CAAgB,yoCAAG,EAAC,C;;;;;;;;;;;ACA1qC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/fishery-monitor/fishery-monitor.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/fishery-monitor/fishery-monitor.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./fishery-monitor.vue?vue&type=template&id=5df5d76c&scoped=true&\"\nvar renderjs\nimport script from \"./fishery-monitor.vue?vue&type=script&lang=js&\"\nexport * from \"./fishery-monitor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./fishery-monitor.vue?vue&type=style&index=0&id=5df5d76c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5df5d76c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/fishery-monitor/fishery-monitor.vue\"\nexport default component.exports","export * from \"-!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./fishery-monitor.vue?vue&type=template&id=5df5d76c&scoped=true&\"","var components\ntry {\n  components = {\n    uniDrawer: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-drawer/components/uni-drawer/uni-drawer\" */ \"@/uni_modules/uni-drawer/components/uni-drawer/uni-drawer.vue\"\n      )\n    },\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.deviceList, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var m0 =\n      item.latest_ts &&\n      _vm.TimeDifference(\n        _vm.formatDate(item.latest_ts),\n        _vm.formatDate(parseInt(new Date().getTime() * 1000))\n      ) <= 30\n    return {\n      $orig: $orig,\n      m0: m0\n    }\n  })\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      return _vm.$refs.logoPopup.close()\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./fishery-monitor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./fishery-monitor.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"pagehome\">\r\n\t\t<view class=\"tp-box tp-box-sizing tp-pd-l-r-30\">\r\n\t\t\t<!-- 已登录 -->\r\n\t\t\t<view :style=\"{marginTop: marginTop}\">\r\n\t\t\t\t<!-- <view class=\"tp-status-bar\"></view> -->\r\n\t\t\t\t<view class=\"tp-fishery-select tp-flex tp-flex-row tp-flex-j-l tp-flex-a-c\">\r\n\t\t\t\t\t<view style=\"display: flex;\" @click=\"toMore\">\r\n\t\t\t\t\t\t<view class=\"iconmore\" style=\"margin-top: 10rpx;\" @click='toShowNavDrawer'>\r\n\t\t\t\t\t\t\t<image src=\"/static/icon/more.png\">\r\n\t\t\t\t\t\t\t\t<view class=\"title\">{{currentGroup.device_group}}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tp-fishery-top\"></view>\r\n\t\t\t\t<view class=\"tp-title tp-mg-t-25\" :style=\"{marginTop: marginConTop,marginBottom: '36rpx'}\">设备监控\r\n\t\t\t\t\t<view class=\"tp-add\" @click=\"addEqp\">\r\n\t\t\t\t\t\t<image src=\"../../static/image/scan.png\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"device_list\">\r\n\t\t\t\t\t<view class=\"device_item\" v-for=\"(item,index) in deviceList\" :key=\"index\"\r\n\t\t\t\t\t\t@click=\"clickDevice(item)\">\r\n\t\t\t\t\t\t<view class=\"device_name\">\r\n\t\t\t\t\t\t\t<view class=\"device_name_l\">\r\n\t\t\t\t\t\t\t\t<view class=\"item-name\">\r\n\t\t\t\t\t\t\t\t\t{{item.device_name}}\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"item-info\">\r\n\t\t\t\t\t\t\t\t\t<span v-if=\"item.latest_ts && TimeDifference(formatDate(item.latest_ts),formatDate(parseInt(\r\n\t\t\t\t\t\t\t\t\tnew Date().getTime() *\r\n\t\t\t\t\t\t\t\t\t1000))) <= 30\"><i></i>在线</span>\r\n\t\t\t\t\t\t\t\t\t<!-- <span v-if=\"item.latest_ts && TimeDifference(formatDate(item.latest_ts),formatDate(parseInt(\r\n\t\t\t\t\t\t\t\t\tnew Date().getTime() *\r\n\t\t\t\t\t\t\t\t\t1000))) > 30\" class='grey'><i></i>离线</span> -->\r\n\t\t\t\t\t\t\t\t\t<span v-else class='grey'><i></i>离线</span>\r\n\t\t\t\t\t\t\t\t\t<view class=\"item-time\" v-if=\"item.latest_ts_name && item.latest_ts_name != null\">\r\n\t\t\t\t\t\t\t\t\t\t更新时间：{{item.latest_ts_name}}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"device_name_r\" v-if=\"item.gateway_name\">\r\n\t\t\t\t\t\t\t\t{{item.gateway_name}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- <view class=\"line\">\r\n\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"device_tab\" v-if=\"item.valuesNew.length > 0\">\r\n\t\t\t\t\t\t\t<view v-for=\"(i,iIndex) in item.valuesNew\" :key=\"iIndex\"\r\n\t\t\t\t\t\t\t\t@click.stop=\"changeIndex(item,i,iIndex)\"\r\n\t\t\t\t\t\t\t\t:class=\"item.currentIndex == iIndex ?'device_tab_item active':'device_tab_item'\">\r\n\t\t\t\t\t\t\t\t<view class=\"tab-label\" v-if=\"i.name\">\r\n\t\t\t\t\t\t\t\t\t{{i.name}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"tab-value\" v-if=\"i.value\">\r\n\t\t\t\t\t\t\t\t\t{{i.value}}\r\n\t\t\t\t\t\t\t\t\t<view class=\"value-unit\" v-if=\"i.unit\">\r\n\t\t\t\t\t\t\t\t\t\t{{i.unit}}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"line\" v-if=\"item.controlData.length > 0\">\r\n\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"item.controlData.length > 0\" v-for=\"(sw,swIndex) in item.controlData\"\r\n\t\t\t\t\t\t\t:key=\"swIndex\">\r\n\t\t\t\t\t\t\t<view class=\"device_switch\">\r\n\t\t\t\t\t\t\t\t<view class=\"switch_l\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"switch_l_name\">\r\n\t\t\t\t\t\t\t\t\t\t{{sw.typeName}}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"switch_l_state\">\r\n\t\t\t\t\t\t\t\t\t\t<span v-if=\"sw.state == 1\">开</span>\r\n\t\t\t\t\t\t\t\t\t\t<span v-if=\"sw.state == 0\">关</span>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"switch_r\" v-if=\"!sw.disabled\">\r\n\t\t\t\t\t\t\t\t\t<image src=\"/static/icon/switch_on.png\" @click.stop=\"changSwitch(item,sw)\"\r\n\t\t\t\t\t\t\t\t\t\tv-if=\"sw.state == 1\">\r\n\t\t\t\t\t\t\t\t\t\t<image src=\"/static/icon/switch_close.png\" @click.stop=\"changSwitch(item,sw)\"\r\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"sw.state == 0\">\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view> -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 分页加载 -->\r\n\t\t\t\t\t<!-- <view class=\"uni-tab-bar-loading\" @click=\"toLoadEqupMore(active)\" v-if=\"loadMoreEqupShow\">\r\n\t\t\t\t\t\t<uni-load-more :status=\"statusEqupType\" :contentText=\"contentText\"></uni-load-more>\r\n\t\t\t\t\t</view> -->\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- <view class=\"tp-title tp-mg-t-25\" style=\"margin-top: 75rpx; margin-bottom: 36rpx;\">操作日志与状态</view>\r\n\t\t\t\t<block>\r\n\t\t\t\t\t<view class=\"tp-log tp-flex tp-flex-col tp-mg-t-15\">\r\n\t\t\t\t\t\t<view class=\"tp-panel tp-flex tp-flex-col tp-box-sizing tp-pd-20\"\r\n\t\t\t\t\t\t\tv-for=\"(item,index) in logData\" :key=\"index\" @click=\"logInfo(item, index)\">\r\n\t\t\t\t\t\t\t<view class=\"tp-log-item tp-flex tp-flex-row tp-flex-j-s tp-flex-a-c\">\r\n\t\t\t\t\t\t\t\t<view class=\"tp-time\">{{item.cteate_time}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"tp-circle tp-mg-l-r-20\" :class=\"index==currentIndex?'tp-active':'' \"\r\n\t\t\t\t\t\t\t\t\tstyle=\"margin-left: 10rpx;\">\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"tp-flex-1\">{{item.remark}}</view>\r\n\t\t\t\t\t\t\t\t<view v-if=\"index==currentIndex\">\r\n\t\t\t\t\t\t\t\t\t<image src=\"../../static/icon/log_icon_on.png\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view v-else>\r\n\t\t\t\t\t\t\t\t\t<image src=\"../../static/icon/log_icon.png\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"uni-tab-bar-loading\" @click=\"toLoadMore(active)\" v-if=\"loadMoreShow\">\r\n\t\t\t\t\t\t\t<uni-load-more :status=\"statusType\" :contentText=\"contentText\"></uni-load-more>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t\t<view class=\"tp-tmp\"></view> -->\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 菜单抽屉 -->\r\n\t\t<uni-drawer ref=\"navDrawer\" :mask=\"true\" :maskClick=\"true\" :width=\"300\" :drawerTop='topHeight'>\r\n\t\t\t<scroll-view scroll-y :style=\"{height:height - 80 + 'px'}\" style=\"padding-top: 50rpx;\">\r\n\t\t\t\t<view class=\"draw-title\" v-for='(item,index) in ywData' :key='index'>\r\n\t\t\t\t\t<h3 @click='getYTData(item)'>{{item.name}}\r\n\t\t\t\t\t\t<uni-icons :type=\"item.secondShow?'bottom':'top'\" size=\"15\" class=\"rightIcons\"></uni-icons>\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t\t<view class=\"draw-title-list\" v-for=\"(equip,equipIndex) in item.equipLists\" :key=\"equipIndex\"\r\n\t\t\t\t\t\tv-if=\"item.equipLists && item.equipLists.length > 0 && item.secondShow\"\r\n\t\t\t\t\t\t@click=\"toClickEquip(item, equip)\">\r\n\t\t\t\t\t\t<view class=\"list-item\">\r\n\t\t\t\t\t\t\t<text class=\"item_text\">{{equip.device_group}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</uni-drawer>\r\n\t\t<!-- 日志详情 -->\r\n\t\t<uni-popup ref=\"logoPopup\" type=\"bottom\" :mask=\"true\" :maskClick=\"true\">\r\n\t\t\t<view class=\"logInfo\">\r\n\t\t\t\t<view class=\"info_title\">\r\n\t\t\t\t\t日志详情\r\n\t\t\t\t\t<image src=\"../../static/icon/close.png\" alt=\"\" @click=\"$refs.logoPopup.close()\">\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info_header\">\r\n\t\t\t\t\t<view class=\"tp-circle tp-mg-l-r-20 tp-active\" style=\"margin-left: 10rpx;\">\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"info_header_d\">\r\n\t\t\t\t\t\t{{currentLog.remark}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<span class=\"info_header_t\">{{currentLog.cteate_time}}</span>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info_list\">\r\n\t\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t\t<view class=\"value\">\r\n\t\t\t\t\t\t\t设备名称：\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"label\">\r\n\t\t\t\t\t\t\t{{currentLog.device_name}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t\t<view class=\"value\">\r\n\t\t\t\t\t\t\t设备分组名称：\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"label\">\r\n\t\t\t\t\t\t\t{{currentLog.asset_name}}>{{currentLog.device_name}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t\t<view class=\"value\">\r\n\t\t\t\t\t\t\t业务名称：\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"label\">\r\n\t\t\t\t\t\t\t{{currentLog.business_name}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t\t<view class=\"value\">\r\n\t\t\t\t\t\t\t操作类型：\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"label\" v-if=\"currentLog.operation_type == '1'\">\r\n\t\t\t\t\t\t\t定时触发\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"label\" v-if=\"currentLog.operation_type == '2'\">\r\n\t\t\t\t\t\t\t手动控制\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t\t<view class=\"value\">\r\n\t\t\t\t\t\t\t指令：\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"label\">\r\n\t\t\t\t\t\t\t{{currentLog.instruct}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t\t<view class=\"value\">\r\n\t\t\t\t\t\t\t发送结果：\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"label\" v-if=\"currentLog.send_result == '1'\">\r\n\t\t\t\t\t\t\t成功\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"label\" v-if=\"currentLog.send_result == '2'\">\r\n\t\t\t\t\t\t\t失败\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t\t<!-- 消息提示框 -->\r\n\t\t<cys-toast ref=\"toast\" :msg=\"toast.msg\" direction=\"row\" location=\"top\"></cys-toast>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tvar socketOpen = false;\r\n\tvar socketMsgQueue = {\r\n\t\twid: '',\r\n\t\tconfig: {\r\n\t\t\tstartTs: '0',\r\n\t\t\tendTs: '0',\r\n\t\t\tlatestTime: '10',\r\n\t\t\toperator: 'AVG',\r\n\t\t\tinterval: '15000'\r\n\t\t}\r\n\t};\r\n\tvar Dissolved_Oxygen1, PH1, temperature1;\r\n\t//\r\n\timport {\r\n\t\tmapState\r\n\t} from \"vuex\";\r\n\t//\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmarginConTop: 0,\r\n\t\t\t\tcurrentDataIndex: -1,\r\n\t\t\t\tcurrentD: -1,\r\n\t\t\t\tdeviceList: [],\r\n\t\t\t\tcurrentIndex: 0,\r\n\t\t\t\tcurrentLog: {},\r\n\t\t\t\tcurrentYw: '',\r\n\t\t\t\ttopHeight: 0,\r\n\t\t\t\theight: 0,\r\n\t\t\t\tmarginTop: 0,\r\n\t\t\t\tisMore: false,\r\n\t\t\t\tytName: '',\r\n\t\t\t\tisGetPhone: false,\r\n\t\t\t\tfishery: 1000,\r\n\t\t\t\toxygen: 66,\r\n\t\t\t\tph: 6.5,\r\n\t\t\t\tlogData: [],\r\n\t\t\t\tuserInfo: {\r\n\t\t\t\t\tisAuth: false,\r\n\t\t\t\t\tisLogin: false,\r\n\t\t\t\t},\r\n\t\t\t\tisLogin: false,\r\n\t\t\t\twxData: {\r\n\t\t\t\t\tiv: '',\r\n\t\t\t\t\tencryptedData: '',\r\n\t\t\t\t},\r\n\t\t\t\ttoast: {\r\n\t\t\t\t\tmsg: ''\r\n\t\t\t\t},\r\n\t\t\t\tytData: [],\r\n\t\t\t\tcurrentDashboardId: '', //当前渔场的id\r\n\t\t\t\tywData: [],\r\n\t\t\t\tstatusType: 'more', //分页状态\r\n\t\t\t\tloadMoreShow: true,\r\n\t\t\t\tcontentText: {\r\n\t\t\t\t\tcontentdown: '上拉显示更多数据',\r\n\t\t\t\t\tcontentrefresh: '正在加载...',\r\n\t\t\t\t\tcontentnomore: '没有数据了'\r\n\t\t\t\t},\r\n\t\t\t\tstatusEqupType: 'more', //分页状态\r\n\t\t\t\tloadMoreEqupShow: true,\r\n\t\t\t\tcurrentGroup: {},\r\n\t\t\t\tktxStatusHeight: 0,\r\n\t\t\t\ttimer: null\r\n\t\t\t}\r\n\t\t},\r\n\t\t// \r\n\t\tonReady() {\r\n\t\t\tconst {\r\n\t\t\t\tstatusBarHeight,\r\n\t\t\t\tplatform\r\n\t\t\t} = uni.getSystemInfoSync();\r\n\t\t\t//页面的高度\r\n\t\t\tuni.setStorageSync('pageHeight', uni.getSystemInfoSync().windowHeight + 'px');\r\n\t\t\t// 状态栏高度\r\n\t\t\tuni.setStorageSync('statusBarHeight', statusBarHeight);\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\tconst {\r\n\t\t\t\ttop,\r\n\t\t\t\theight\r\n\t\t\t} = uni.getMenuButtonBoundingClientRect();\r\n\t\t\t// 胶囊按钮高度 一般是32 如果获取不到就使用32\r\n\t\t\tuni.setStorageSync('menuButtonHeight', height ? height : 32);\r\n\t\t\t// 判断胶囊按钮信息是否成功获取\r\n\t\t\tif (top && top !== 0 && height && height !== 0) {\r\n\t\t\t\tconst navigationBarHeight = (top - statusBarHeight) * 2 + height;\r\n\t\t\t\t// 导航栏高度\r\n\t\t\t\tuni.setStorageSync('navigationBarHeight', navigationBarHeight);\r\n\t\t\t} else {\r\n\t\t\t\tuni.setStorageSync('navigationBarHeight', platform === 'android' ? 48 : 40);\r\n\t\t\t}\r\n\t\t\t// 导航栏和状态栏高度\r\n\t\t\tvar navigationBarAndStatusBarHeight = uni.getStorageSync('statusBarHeight') + uni.getStorageSync(\r\n\t\t\t\t'navigationBarHeight') + 'px';\r\n\t\t\tthis.topHeight = uni.getStorageSync('statusBarHeight') + uni.getStorageSync(\r\n\t\t\t\t'navigationBarHeight') - this.ktxStatusHeight + 100 + 'px';\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\t//\r\n\t\tonLoad(options) {\r\n\t\t\tthis.$store.commit('zerOingOffser'); //清空日志页码\r\n\t\t\tthis.$store.commit('zerOingEqupPage'); //清空设备页码\r\n\t\t\t\r\n\t\t\tlet systemInfo = wx.getSystemInfoSync();\r\n\t\t\t// px转换到rpx的比例\r\n\t\t\tlet pxToRpxScale = 750 / systemInfo.windowWidth;\r\n\t\t\t// 状态栏的高度\r\n\t\t\tlet ktxStatusHeight = systemInfo.statusBarHeight * pxToRpxScale;\r\n\t\t\tthis.ktxStatusHeight = ktxStatusHeight\r\n\t\t\t// 导航栏的高度\r\n\t\t\tlet navigationHeight = 44 * pxToRpxScale;\r\n\t\t\tthis.marginTop = ktxStatusHeight + 'rpx';\r\n\t\t\tthis.marginConTop = ktxStatusHeight  + 'rpx'\r\n\t\t\tthis.isLogin = this.$login.isLoginType().isLogin\r\n\t\t\t// this.ywData = []\r\n\t\t\t// this.showData()\r\n\t\t\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.isLogin = this.$login.isLoginType().isLogin\r\n\t\t\tthis.$store.state.list.equpPage = 1\r\n\t\t\tthis.ywData = []\r\n\t\t\tthis.showData();\r\n\t\t},\r\n\t\t// 上拉加载更多,onReachBottom上拉触底函数\r\n\t\tonReachBottom() {\r\n\t\t\tif (this.statusType == 'more') {\r\n\t\t\t\tthis.toLoadMore();\r\n\t\t\t}\r\n\t\t\tif (this.statusEqupType == 'more') {\r\n\t\t\t\tthis.toLoadEqupMore()\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\tthis.height = res.screenHeight + 45;\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\tthis.height = res.screenHeight - 200;\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef APP\r\n\t\t\t\t\tthis.height = res.screenHeight\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// onLoad(options) {\r\n\t\t// \tthis.$store.commit('zerOingOffser'); //清空日志页码\r\n\t\t// \tthis.$store.commit('zerOingEqupPage'); //清空设备页码\r\n\t\t// },\r\n\t\t//\r\n\t\tmethods: {\r\n\t\t\tshowData(){\r\n\t\t\t\tif (uni.getStorageSync(\"currentYw\").id) {\r\n\t\t\t\t\tif (uni.getStorageSync(\"currentGroup\").id) {\r\n\t\t\t\t\t\tthis.deviceList = []\r\n\t\t\t\t\t\tthis.currentGroup = uni.getStorageSync(\"currentGroup\")\r\n\t\t\t\t\t\tthis.getDeviceList()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.getYTData(uni.getStorageSync(\"currentYw\"))\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.getYwData()\r\n\t\t\t\t}\r\n\t\t\t\t// 获取日志接口\r\n\t\t\t\t// this.getWarningList()\r\n\t\t\t\t// let count = 0;\r\n\t\t\t\t// setInterval(() => {\r\n\t\t\t\t// \tcount++;\r\n\t\t\t\t// \tif (count % 10 === 0) {\r\n\t\t\t\t// \t\t// this.getYwData()\r\n\t\t\t\t// \t\tif (uni.getStorageSync(\"currentYw\").id) {\r\n\t\t\t\t// \t\t\tif (uni.getStorageSync(\"currentGroup\").id) {\r\n\t\t\t\t// \t\t\t\tthis.deviceList = []\r\n\t\t\t\t// \t\t\t\tthis.currentGroup = uni.getStorageSync(\"currentGroup\")\r\n\t\t\t\t// \t\t\t\tthis.getDeviceList()\r\n\t\t\t\t// \t\t\t} else {\r\n\t\t\t\t// \t\t\t\tthis.getYTData(uni.getStorageSync(\"currentYw\"))\r\n\t\t\t\t// \t\t\t}\r\n\t\t\t\t// \t\t} else {\r\n\t\t\t\t// \t\t\tthis.getYwData()\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t\t// 获取日志接口\r\n\t\t\t\t// \t\t// this.getWarningList()\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }, 1000)\r\n\t\t\t},\r\n\t\t\tchangeIndex(item, i, iIndex) {\r\n\t\t\t\titem.currentIndex = iIndex\r\n\t\t\t\tthis.$forceUpdate()\r\n\t\t\t},\r\n\t\t\t// 点击设备\r\n\t\t\tclickDevice(data, dataIndex) {\r\n\t\t\t\tvar state = ''\r\n\t\t\t\tif (data.latest_ts && this.TimeDifference(this.formatDate(data.latest_ts), this.formatDate(parseInt(\r\n\t\t\t\t\t\tnew Date().getTime() *\r\n\t\t\t\t\t\t1000))) > 30) {\r\n\t\t\t\t\tstate = 0\r\n\t\t\t\t}\r\n\t\t\t\tif (data.latest_ts && this.TimeDifference(this.formatDate(data.latest_ts), this.formatDate(parseInt(\r\n\t\t\t\t\t\tnew Date().getTime() *\r\n\t\t\t\t\t\t1000))) <= 30) {\r\n\t\t\t\t\tstate = 1\r\n\t\t\t\t}\r\n\t\t\t\tthis.currentDataIndex = dataIndex\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: './deviceDetail?type=' + data.type + '&device_id=' + data.device_id + '&device_name=' +\r\n\t\t\t\t\t\tdata.device_name + '&latest_ts_name=' + data.latest_ts_name + '&state=' + state\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 日志详情\r\n\t\t\tlogInfo(log, index) {\r\n\t\t\t\tthis.currentLog = log\r\n\t\t\t\tthis.currentIndex = index\r\n\t\t\t\tthis.$refs.logoPopup.open()\r\n\t\t\t},\r\n\t\t\t// 点击设备分组\r\n\t\t\ttoClickEquip(yw, equip) {\r\n\t\t\t\tuni.setStorageSync('ywId', yw.id)\r\n\t\t\t\tuni.setStorageSync('ywName', yw.name)\r\n\t\t\t\tuni.setStorageSync('currentGroup', equip)\r\n\t\t\t\tthis.$store.state.list.equpPage = 1\r\n\t\t\t\tthis.ywData = []\r\n\t\t\t\tthis.showData();\r\n\t\t\t\tthis.currentGroup = equip\r\n\t\t\t\tthis.$refs.navDrawer.close()\r\n\t\t\t},\r\n\t\t\t// 展示分组\r\n\t\t\ttoShowNavDrawer() {\r\n\t\t\t\tif (this.ywData.length == 0) {\r\n\t\t\t\t\tthis.getYwData()\r\n\t\t\t\t}\r\n\t\t\t\tthis.$refs.navDrawer.open()\r\n\t\t\t},\r\n\t\t\t// 改变设备开关\r\n\t\t\tchangSwitch(dev, sw) {\r\n\t\t\t\tvar stateNum;\r\n\t\t\t\tif (sw.state == 0) {\r\n\t\t\t\t\tstateNum = 1\r\n\t\t\t\t} else if (sw.state == 1) {\r\n\t\t\t\t\tstateNum = 0\r\n\t\t\t\t}\r\n\t\t\t\tvar values = {\r\n\t\t\t\t\t[sw.name]: stateNum\r\n\t\t\t\t}\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载中'\r\n\t\t\t\t});\r\n\t\t\t\tthis.API.apiRequest('/api/device/operating_device', {\r\n\t\t\t\t\tdevice_id: dev.device_id,\r\n\t\t\t\t\tvalues: values\r\n\t\t\t\t}, 'post').then(res => {\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tthis.toast.msg = '修改状态成功';\r\n\t\t\t\t\t\tthis.$refs.toast.show();\r\n\t\t\t\t\t\tthis.getContorl(dev, sw)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// uni.hideLoading()\r\n\t\t\t\t}).finally(() => {});\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t},1000);\r\n\t\t\t},\r\n\t\t\t// 获取业务列表\r\n\t\t\tgetYwData() {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载中'\r\n\t\t\t\t});\r\n\t\t\t\tthis.API.apiRequest('/api/business/index', {\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tlimit: 100\r\n\t\t\t\t}, 'post').then(res => {\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tthis.ywData = res.data.data\r\n\t\t\t\t\t\tthis.ywData.forEach(item => {\r\n\t\t\t\t\t\t\titem.secondShow = false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.getYTData(res.data.data[0])\r\n\t\t\t\t\t\tuni.setStorageSync('ywName', res.data.data[0].name)\r\n\t\t\t\t\t\tuni.setStorageSync('ywId', res.data.data[0].id)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t// uni.hideLoading()\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t},1000);\r\n\t\t\t},\r\n\t\t\t//获取业务下分组列表\r\n\t\t\tgetYTData(item) {\r\n\t\t\t\tuni.setStorageSync('currentYw', item)\r\n\t\t\t\t// uni.showLoading({\r\n\t\t\t\t// \ttitle: '加载中'\r\n\t\t\t\t// });\r\n\t\t\t\tthis.API.apiRequest('/api/asset/list/d', {\r\n\t\t\t\t\tbusiness_id: item.id\r\n\t\t\t\t}, 'post').then(res => {\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tif (res.data && res.data.length > 0) {\r\n\t\t\t\t\t\t\titem.secondShow = !item.secondShow\r\n\t\t\t\t\t\t\tconst data = res.data\r\n\t\t\t\t\t\t\tdata.forEach(t => {\r\n\t\t\t\t\t\t\t\tt.device_group = t.device_group.replace(/\\//g, '');\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthis.ywData.forEach(d => {\r\n\t\t\t\t\t\t\t\tif (item.id == d.id) {\r\n\t\t\t\t\t\t\t\t\td.equipLists = data\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tconsole.log(\"aaa\",this.currentGroup);\r\n\t\t\t\t\t\t\tif(!this.currentGroup){\r\n\t\t\t\t\t\t\t\tconsole.log(\"currentGroup\")\r\n\t\t\t\t\t\t\t\tthis.currentGroup = data[0]\r\n\t\t\t\t\t\t\t\tthis.deviceList = []\r\n\t\t\t\t\t\t\t\tthis.getDeviceList()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.currentGroup = data[0]\r\n\t\t\t\t\t\t\tthis.$forceUpdate()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// setTimeout(()=>{\r\n\t\t\t\t\t\t// uni.hideLoading();\r\n\t\t\t\t\t// },500);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//获取操作日志\r\n\t\t\tgetWarningList() {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载中'\r\n\t\t\t\t});\r\n\t\t\t\tthis.API.apiRequest('/api/conditions/log/index', {\r\n\t\t\t\t\tcurrent_page: this.$store.state.list.offset,\r\n\t\t\t\t\tper_page: 10\r\n\t\t\t\t}, 'post').then(res => {\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tvar data = res.data.data;\r\n\t\t\t\t\t\tvar lastTableData = [];\r\n\t\t\t\t\t\tif (data.length > 0) {\r\n\t\t\t\t\t\t\tlet pauArry = data;\r\n\t\t\t\t\t\t\t/* 分页 */\r\n\t\t\t\t\t\t\tlet pageSize = 10;\r\n\t\t\t\t\t\t\tif (pageSize == data.length) {\r\n\t\t\t\t\t\t\t\tthis.statusType = 'more';\r\n\t\t\t\t\t\t\t\tthis.loadMoreShow = true;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.statusType = 'noMore';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlet newTableData = this.logData.concat(pauArry);\r\n\t\t\t\t\t\t\tlastTableData = newTableData;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.statusType = 'noMore';\r\n\t\t\t\t\t\t\tlastTableData = this.logData.concat([]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.logData = lastTableData;\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.loadMoreShow = false;\r\n\t\t\t\t\t\tthis.statusType = 'noMore';\r\n\t\t\t\t\t\tthis.toast.msg = res.msg;\r\n\t\t\t\t\t\tthis.$refs.toast.show();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t},1000)\r\n\t\t\t},\r\n\t\t\t// 加载更多\r\n\t\t\ttoLoadMore() {\r\n\t\t\t\t// 还有数据\r\n\t\t\t\tif (this.statusType == 'more') {\r\n\t\t\t\t\tthis.$store.commit('addOffset');\r\n\t\t\t\t\tthis.getWarningList();\r\n\t\t\t\t} else if (this.statusType == 'noMore') {}\r\n\t\t\t},\r\n\t\t\ttoLoadEqupMore() {\r\n\t\t\t\t// 还有数据\r\n\t\t\t\tif (this.statusEqupType == 'more') {\r\n\t\t\t\t\tthis.$store.commit('addEqupPage');\r\n\t\t\t\t\tthis.getDeviceList();\r\n\t\t\t\t} else if (this.statusEqupType == 'noMore') {}\r\n\t\t\t},\r\n\t\t\ttoLoadModelMore() {\r\n\t\t\t\t// 还有数据\r\n\t\t\t\tif (this.statusModelType == 'more') {\r\n\t\t\t\t\tthis.$store.commit('addModelPage');\r\n\t\t\t\t\tthis.getDetail();\r\n\t\t\t\t} else if (this.statusModelType == 'noMore') {}\r\n\t\t\t},\r\n\t\t\t//添加设备\r\n\t\t\taddEqp() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\t// 允许从相机和相册扫码\r\n\t\t\t\tuni.scanCode({\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tlet result = res.result\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: './addMonitor?code=' + result + '&id=' + _this.currentGroup.id,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//查看更多鱼塘\r\n\t\t\ttoMore() {\r\n\t\t\t\tthis.isMore = true\r\n\t\t\t},\r\n\t\t\t// 获取设备列表\r\n\t\t\tgetDeviceList() {\r\n\t\t\t\tvar newData = {};\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载中'\r\n\t\t\t\t});\r\n\t\t\t\tthis.API.apiRequest('/api/device/list', {\r\n\t\t\t\t\tasset_id: this.currentGroup.id,\r\n\t\t\t\t\tcurrent_page: this.$store.state.list.equpPage,\r\n\t\t\t\t\tper_page: 20\r\n\t\t\t\t}, 'post').then(res => {\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tvar newData = res.data.data;\r\n\t\t\t\t\t\tvar data = []\r\n\t\t\t\t\t\tif (newData.length > 0) {\r\n\t\t\t\t\t\t\tnewData.forEach(item => {\r\n\t\t\t\t\t\t\t\tif (item.device_type != 2) {\r\n\t\t\t\t\t\t\t\t\tdata.push(item)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar lastTableData = [];\r\n\t\t\t\t\t\tif (data.length > 0) {\r\n\t\t\t\t\t\t\tlet pauArry = data;\r\n\t\t\t\t\t\t\t/* 分页 */\r\n\t\t\t\t\t\t\tlet pageSize = 20;\r\n\t\t\t\t\t\t\tif (pageSize == data.length) {\r\n\t\t\t\t\t\t\t\tthis.statusEqupType = 'more';\r\n\t\t\t\t\t\t\t\tthis.loadMoreEqupShow = true;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.statusEqupType = 'noMore';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlet newTableData = this.deviceList.concat(pauArry);\r\n\t\t\t\t\t\t\tlastTableData = newTableData;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.statusEqupType = 'noMore';\r\n\t\t\t\t\t\t\tlastTableData = this.deviceList.concat([]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.deviceList = lastTableData;\r\n\t\t\t\t\t\tthis.deviceList.forEach(item => {\r\n\t\t\t\t\t\t\titem.currentIndex = 0\r\n\t\t\t\t\t\t\tif (item.latest_ts && item.latest_ts != null) {\r\n\t\t\t\t\t\t\t\titem.latest_ts_name = this.formatDate(item.latest_ts)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\titem.chart_data = {}\r\n\t\t\t\t\t\t\tthis.getDetail(item) // 获取组件信息\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.loadMoreEqupShow = false;\r\n\t\t\t\t\t\tthis.statusEqupType = 'noMore';\r\n\t\t\t\t\t\tthis.toast.msg = res.msg;\r\n\t\t\t\t\t\tthis.$refs.toast.show();\r\n\t\t\t\t\t}\r\n\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t},1000);\r\n\t\t\t},\r\n\t\t\t// 插件查询\r\n\t\t\tgetDetail(device) {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载中'\r\n\t\t\t\t});\r\n\t\t\t\tthis.API.apiRequest('/api/device/model/list', {\r\n\t\t\t\t\tid: device.type,\r\n\t\t\t\t\tcurrent_page: 1,\r\n\t\t\t\t\tper_page: 1\r\n\t\t\t\t}, 'post').then(res => {\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tif (res.data.data.length > 0) {\r\n\t\t\t\t\t\t\tvar data = res.data.data[0];\r\n\t\t\t\t\t\t\tdevice.valuesNew = []\r\n\t\t\t\t\t\t\tdevice.controlData = []\r\n\t\t\t\t\t\t\tdevice.chart_data = JSON.parse(data.chart_data)\r\n\t\t\t\t\t\t\t// \r\n\t\t\t\t\t\t\tif (device.chart_data.chart.length > 0) {\r\n\t\t\t\t\t\t\t\tdevice.chart_data.chart.forEach(ch => {\r\n\t\t\t\t\t\t\t\t\tif (ch.controlType == 'dashboard') {\r\n\t\t\t\t\t\t\t\t\t\tif (ch.mapping && ch.mapping.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tch.mapping.forEach(map => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: map,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: '',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tunit: ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdevice.valuesNew.push(obj)\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif (ch.controlType == 'control') {\r\n\t\t\t\t\t\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\t\t\t\t\t\tname: ch.series[0].mapping.value,\r\n\t\t\t\t\t\t\t\t\t\t\ttypeName: ch.name,\r\n\t\t\t\t\t\t\t\t\t\t\tstate: '',\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled: ch.disabled\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tdevice.controlData.push(obj)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (device.valuesNew.length > 0) {\r\n\t\t\t\t\t\t\t\tdevice.valuesNew.forEach(va => {\r\n\t\t\t\t\t\t\t\t\tfor (let key in device.values) {\r\n\t\t\t\t\t\t\t\t\t\tif (va.name == key) {\r\n\t\t\t\t\t\t\t\t\t\t\tva.value = device.values[key]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (device.chart_data.tsl.properties && device.chart_data.tsl.properties.length > 0) {\r\n\t\t\t\t\t\t\t\tdevice.chart_data.tsl.properties.forEach(d => {\r\n\t\t\t\t\t\t\t\t\tif (device.valuesNew && device.valuesNew.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\tdevice.valuesNew.forEach(i => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (d.name == i.name) {\r\n\t\t\t\t\t\t\t\t\t\t\t\ti.unit = d.unit\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (device.controlData.length > 0) {\r\n\t\t\t\t\t\t\t\tdevice.controlData.forEach(va => {\r\n\t\t\t\t\t\t\t\t\tfor (let key in device.values) {\r\n\t\t\t\t\t\t\t\t\t\tif (va.name == key) {\r\n\t\t\t\t\t\t\t\t\t\t\tva.state = device.values[key]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tthis.getContorl(device, va)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.$forceUpdate()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.toast.msg = res.msg;\r\n\t\t\t\t\t\tthis.$refs.toast.show();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t},1000);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 定时获取开关\r\n\t\t\tgetContorl(device, con) {\r\n\t\t\t\tconst delayTime = 60 * 1000\r\n\t\t\t\tthis.getDevieceKv(device, con)\r\n\t\t\t\t// 清除定时器\r\n\t\t\t\tclearInterval(this.timer)\r\n\t\t\t\tthis.timer = setInterval(() => {\r\n\t\t\t\t\tthis.getContorl(device, con)\r\n\t\t\t\t}, delayTime)\r\n\t\t\t},\r\n\t\t\t// 获取设备的开关状态\r\n\t\t\tgetDevieceKv(device, con) {\r\n\t\t\t\tvar newArry = []\r\n\t\t\t\tnewArry.push(con.name)\r\n\t\t\t\t// uni.showLoading({\r\n\t\t\t\t// \ttitle: '加载中'\r\n\t\t\t\t// });\r\n\t\t\t\tthis.API.apiRequest('/api/kv/current', {\r\n\t\t\t\t\tentity_id: device.device_id,\r\n\t\t\t\t\tattribute: newArry\r\n\t\t\t\t}, 'post').then(res => {\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\t// uni.hideLoading()\r\n\t\t\t\t\t\tif (res.data && res.data.length > 0) {\r\n\t\t\t\t\t\t\tfor (let key in res.data[0]) {\r\n\t\t\t\t\t\t\t\tif (con.name == key && res.data[0][key]) {\r\n\t\t\t\t\t\t\t\t\tcon.state = res.data[0][key]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.$forceUpdate()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 时间格式转化\r\n\t\t\tformatDate(shijianchuo) {\r\n\t\t\t\t//shijianchuo是整数，否则要parseInt转换\r\n\t\t\t\tvar time = new Date(shijianchuo / 1000);\r\n\t\t\t\tvar y = time.getFullYear();\r\n\t\t\t\tvar m = time.getMonth() + 1;\r\n\t\t\t\tvar d = time.getDate();\r\n\t\t\t\tvar h = time.getHours();\r\n\t\t\t\tvar mm = time.getMinutes();\r\n\t\t\t\tvar s = time.getSeconds();\r\n\t\t\t\treturn y + '-' + this.add0(m) + '-' + this.add0(d) + ' ' + this.add0(h) + ':' + this.add0(mm) + ':' + this\r\n\t\t\t\t\t.add0(s);\r\n\t\t\t},\r\n\t\t\tadd0(m) {\r\n\t\t\t\treturn m < 10 ? '0' + m : m\r\n\t\t\t},\r\n\t\t\tTimeDifference(time1, time2) {\r\n\t\t\t\t//判断开始时间是否大于结束日期\r\n\t\t\t\tif (time1 > time2) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//截取字符串，得到日期部分\"2009-12-02\",用split把字符串分隔成数组\r\n\t\t\t\tvar begin1 = time1.substr(0, 10).split(\"-\");\r\n\t\t\t\tvar end1 = time2.substr(0, 10).split(\"-\");\r\n\r\n\t\t\t\t//将拆分的数组重新组合，并实例成化新的日期对象\r\n\t\t\t\tvar date1 = new Date(begin1[1] + - +begin1[2] + - +begin1[0]);\r\n\t\t\t\tvar date2 = new Date(end1[1] + - +end1[2] + - +end1[0]);\r\n\r\n\t\t\t\t//得到两个日期之间的差值m，以分钟为单位\r\n\t\t\t\t//Math.abs(date2-date1)计算出以毫秒为单位的差值\r\n\t\t\t\t//Math.abs(date2-date1)/1000得到以秒为单位的差值\r\n\t\t\t\t//Math.abs(date2-date1)/1000/60得到以分钟为单位的差值\r\n\t\t\t\tvar m = parseInt(Math.abs(date2 - date1) / 1000 / 60);\r\n\r\n\t\t\t\t//小时数和分钟数相加得到总的分钟数\r\n\t\t\t\t//time1.substr(11,2)截取字符串得到时间的小时数\r\n\t\t\t\t//parseInt(time1.substr(11,2))*60把小时数转化成为分钟\r\n\t\t\t\tvar min1 = parseInt(time1.substr(11, 2)) * 60 + parseInt(time1.substr(14, 2));\r\n\t\t\t\tvar min2 = parseInt(time2.substr(11, 2)) * 60 + parseInt(time2.substr(14, 2));\r\n\r\n\t\t\t\t//两个分钟数相减得到时间部分的差值，以分钟为单位\r\n\t\t\t\tvar n = min2 - min1;\r\n\r\n\t\t\t\t//将日期和时间两个部分计算出来的差值相加，即得到两个时间相减后的分钟数\r\n\t\t\t\tvar minutes = m + n;\r\n\t\t\t\treturn minutes\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n<style scoped lang=\"css\">\r\n\t@import '@/common/fishery-monitor.css';\r\n\r\n\t.rightIcons {}\r\n\r\n\t.draw-title {}\r\n\r\n\t.draw-title h3 {\r\n\t\theight: 109rpx;\r\n\t\tline-height: 109rpx;\r\n\t\tborder-bottom: 1rpx solid #EDEEF2;\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-family: Source Han Sans CN;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: #494857;\r\n\t\tpadding-left: 44rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\toverflow: hidden;\r\n\t\twhite-space: nowrap;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twidth: 500rpx;\r\n\t}\r\n\r\n\t.draw-title h3 .rightIcons {\r\n\t\tmargin-right: 57rpx;\r\n\t}\r\n\r\n\t.draw-title .draw-title-list {\r\n\t\theight: 109rpx;\r\n\t\tline-height: 109rpx;\r\n\t\tborder-bottom: 1rpx solid #EDEEF2;\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-family: Source Han Sans CN;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: #494857;\r\n\t\tpadding-left: 82rpx;\r\n\r\n\t}\r\n\r\n\t.draw-title .draw-title-list .item_text {\r\n\t\toverflow: hidden;\r\n\t\twhite-space: nowrap;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twidth: 400rpx;\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./fishery-monitor.vue?vue&type=style&index=0&id=5df5d76c&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\HBuilderX.3.1.12.20210428\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./fishery-monitor.vue?vue&type=style&index=0&id=5df5d76c&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1673854888173\n      var cssReload = require(\"D:/software/HBuilderX.3.1.12.20210428/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}