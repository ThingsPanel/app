(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-ucenter-ucenter"],{"3c70":function(t,i,e){"use strict";var n;e.d(i,"b",(function(){return o})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){return n}));var o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[e("v-uni-view",{staticClass:"tp-box tp-box-sizing tp-flex tp-flex-col tp-pd-l-r-30"},[e("v-uni-view",[e("v-uni-view",{staticClass:"tp-panel tp-uinfo tp-flex tp-flex-col tp-flex-j-c tp-flex-a-c tp-mg-t-50"},[t.$login.isLoginType().isLogin?e("v-uni-image",{staticClass:"tp-mg-t-20",attrs:{src:t.uhead}}):e("v-uni-image",{staticClass:"tp-mg-t-20",attrs:{src:t.uhead},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.isLogin=!0}}}),e("v-uni-view",{staticClass:"tp-flex tp-flex-row tp-felx-j-l tp-flex-a-c tp-mg-t-b-15"},[t.$login.isLoginType().isLogin?t._e():e("v-uni-text",{staticClass:"tp-mg-r-10"},[t._v("未登录/注册")])],1),t.$login.isLoginType().isLogin?t._e():e("v-uni-view",{staticClass:"tp-box-sizing tp-mg-t-b-10"},[t._v("点击头像可登录/注册")])],1),e("v-uni-view",{staticClass:"tp-panel tp-flex tp-flex-col tp-mg-t-50"},[e("v-uni-view",{staticClass:"tp-panel-item tp-flex tp-flex-row tp-flex-j-s tp-flex-a-c tp-box-sizing tp-pd-t-b-20 tp-pd-l-r-10",attrs:{"hover-class":"tp-panel-item-hover"}},[e("v-uni-view",{staticClass:"tp-flex-1 tp-flex tp-flex-row tp-flex-j-s tp-flex-a-c tp-mg-l-15"},[e("v-uni-view",[t._v("名字")]),e("v-uni-view",{staticStyle:{display:"flex"}},[t.userWxInfo.name?e("v-uni-view",{},[t._v(t._s(t.userWxInfo.name))]):t._e(),e("v-uni-view",{staticClass:"iconfont iconjiantou1"})],1)],1)],1),e("v-uni-view",{staticClass:"tp-panel-item tp-flex tp-flex-row tp-flex-j-s tp-flex-a-c tp-box-sizing tp-pd-t-b-20 tp-pd-l-r-10",attrs:{"hover-class":"tp-panel-item-hover"}},[e("v-uni-view",{staticClass:"tp-flex-1 tp-flex tp-flex-row tp-flex-j-s tp-flex-a-c tp-mg-l-15"},[e("v-uni-view",[t._v("电话")]),e("v-uni-view",{staticStyle:{display:"flex"}},[t.userWxInfo.mobile?e("v-uni-view",{},[t._v(t._s(t.userWxInfo.mobile))]):t._e(),e("v-uni-view",{staticClass:"iconfont iconjiantou1"})],1)],1)],1),e("v-uni-view",{staticClass:"tp-panel-item tp-flex tp-flex-row tp-flex-j-s tp-flex-a-c tp-box-sizing tp-pd-t-b-20 tp-pd-l-r-10",attrs:{"hover-class":"tp-panel-item-hover"}},[e("v-uni-view",{staticClass:"tp-flex-1 tp-flex tp-flex-row tp-flex-j-s tp-flex-a-c tp-mg-l-15"},[e("v-uni-view",[t._v("邮箱")]),e("v-uni-view",{staticStyle:{display:"flex"}},[t.userWxInfo.email?e("v-uni-view",{},[t._v(t._s(t.userWxInfo.email))]):t._e(),e("v-uni-view",{staticClass:"iconfont iconjiantou1"})],1)],1)],1)],1),t.$login.isLoginType().isLogin?e("v-uni-view",{staticClass:"quitLogin",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toQuitLogin.apply(void 0,arguments)}}},[t._v("退出登录")]):t._e()],1)],1),e("cys-toast",{ref:"toast",attrs:{msg:t.toast.msg,direction:t.row,location:"top"}})],1)},a=[]},4907:function(t,i,e){var n=e("dd85");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=e("4f06").default;o("8bc0420c",n,!0,{sourceMap:!1,shadowMode:!1})},"7cad":function(t,i,e){"use strict";var n=e("4907"),o=e.n(n);o.a},"8d47":function(t,i,e){"use strict";e.r(i);var n=e("3c70"),o=e("a9b4");for(var a in o)"default"!==a&&function(t){e.d(i,t,(function(){return o[t]}))}(a);e("7cad");var s,u=e("f0c5"),c=Object(u["a"])(o["default"],n["b"],n["c"],!1,null,"926ff468",null,!1,n["a"],s);i["default"]=c.exports},a9b4:function(t,i,e){"use strict";e.r(i);var n=e("b5d3"),o=e.n(n);for(var a in n)"default"!==a&&function(t){e.d(i,t,(function(){return n[t]}))}(a);i["default"]=o.a},b5d3:function(t,i,e){"use strict";var n=e("4ea4");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=n(e("5530")),a=e("26cb"),s={data:function(){return{isLogin:!1,isGetPhone:!1,uhead:"/static/image/uhead.png",realname:"李萌",validdate:"2021-03-26",userWxInfo:{},toast:{msg:""},userInfo:{}}},computed:(0,o.default)({},(0,a.mapState)({loginStatus:function(t){return t.loginStatus},token:function(t){return t.token}})),onShow:function(){this.getUserInfo()},onLoad:function(){},methods:{toQuitLogin:function(){uni.showLoading({title:"加载中"}),this.API.apiRequest("/api/auth/logout",{},"post").then((function(t){200==t.code&&(uni.removeStorageSync("access_token"),uni.removeStorageSync("wx_code"),uni.removeStorageSync("ywId"),uni.reLaunch({url:"../login/login"})),uni.hideLoading()}))},getUserInfo:function(){var t=this;uni.showLoading({title:"加载中"}),this.API.apiRequest("/api/auth/me",{},"post").then((function(i){200==i.code&&(t.userWxInfo=i.data),uni.hideLoading()}))},doOpenAccounts:function(){this.$login.isLoginType().isLogin?uni.navigateTo({url:"../accounts/accounts"}):this.$refs.authPopup.open()},doOpenDevice:function(){this.$login.isLoginType().isLogin?uni.navigateTo({url:"../device/device"}):this.$refs.authPopup.open()},doOpenHistoryOperate:function(){this.$login.isLoginType().isLogin?uni.navigateTo({url:"../history-operate/history-operate"}):this.$refs.authPopup.open()},initAccount:function(){this.userInfo&&(this.realname=this.userInfo.name)},getPhoneNumber:function(t){this.wxData=t.detail,this.isGetPhone=!1,this.toLogin()},toLogin:function(){var t=this;t.$login.isLoginType().isAuth?uni.login({success:function(i){uni.setStorageSync("wx_code",i.code);var e="/auth/login",n={login_type:"wechatmini",business_id:"92a00bb5-f28e-4849-baa5-f1edd85649e6",wx_code:uni.getStorageSync("wx_code"),iv:t.wxData.iv,encryptedData:t.wxData.encryptedData,name:JSON.parse(uni.getStorageSync("userWxInfo")).nickName};uni.showLoading({title:"加载中"}),t.API.apiRequest(e,n,"post").then((function(i){200==i.code?(uni.showToast({title:"登录成功",icon:"none"}),uni.setStorageSync("access_token",i.data.access_token),t.userInfo=t.$login.isLoginType(),t.isLogin=!1,t.uhead=JSON.parse(uni.getStorageSync("userWxInfo")).avatarUrl,t.$forceUpdate(),t.getUserInfo()):(t.toast.msg=i.msg,t.$refs.toast.show()),uni.hideLoading()}))}}):t.$refs.authPopup.open()},toCloseLogin:function(){this.$refs.authPopup.close()},getAuth:function(){var t=this;uni.getUserProfile({desc:"登录",success:function(i){i.userInfo;uni.setStorageSync("isAuth","1"),t.$refs.authPopup.close()},fail:function(t){console.log("未授权err==",t)}})}}};i.default=s},dd85:function(t,i,e){var n=e("24fb");i=n(!1),i.push([t.i,".quitLogin[data-v-926ff468]{width:%?690?%;height:%?86?%;line-height:%?86?%;background:#207af5;border-radius:%?10?%;margin:0 auto;margin-top:%?56?%;font-size:%?32?%;font-family:Source Han Sans CN;font-weight:500;color:#fff;text-align:center}.tp-box[data-v-926ff468]{width:100%;min-height:100vh\r\n\t\t/* background: #FFFFFF; */}.tp-panel[data-v-926ff468]{background:#fff}.tp-uinfo>uni-image[data-v-926ff468]{width:%?124?%;height:%?124?%;border:100%}.tp-uinfo>uni-view[data-v-926ff468]:nth-child(2){font-size:%?32?%;font-weight:700;color:#1d1d1d}.tp-uinfo>uni-view:nth-child(2)>uni-view[data-v-926ff468]{font-size:%?36?%}.tp-uinfo>uni-view[data-v-926ff468]:last-child{font-size:%?28?%;font-weight:500;color:#7c7c7c}.tp-panel-item[data-v-926ff468]{height:%?94?%}.tp-panel-item-hover[data-v-926ff468]{background:#fafafa}.tp-panel-item>uni-view[data-v-926ff468]:first-child{font-size:%?38?%;color:#343436}.tp-panel-item>uni-view[data-v-926ff468]:last-child{height:%?94?%;border-bottom:%?1?% solid #ededed}.tp-panel-item>uni-view:last-child>uni-view[data-v-926ff468]:first-child{font-size:%?30?%;font-weight:500;color:#666}.tp-panel-item>uni-view:last-child>uni-view[data-v-926ff468]:last-child{color:#999;font-size:%?30?%}",""]),t.exports=i}}]);