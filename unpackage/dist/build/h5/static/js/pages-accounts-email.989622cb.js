(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-accounts-email"],{1004:function(t,i,n){"use strict";var e=n("4ea4");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=e(n("5530")),s=n("26cb"),o={data:function(){return{id:"",email:"",is_admin:0,business_id:""}},computed:(0,a.default)({},(0,s.mapState)({userInfo:function(t){return t.userInfo}})),onNavigationBarButtonTap:function(t){0===t.index&&this.handleUpdate()},onShow:function(){this.getAccount()},methods:{getAccount:function(){this.userInfo&&(this.id=this.userInfo.id,this.email=this.userInfo.email,this.is_admin=this.userInfo.is_admin,this.business_id=this.userInfo.business_id)},check:function(){if(this.isEmail())return!0;uni.showToast({title:"请输入正确的邮箱地址！",icon:"none"})},handleUpdate:function(){var t=this;this.check()&&this.$H.post("/user/edit",{id:this.id,email:this.email,is_admin:this.is_admin,business_id:this.business_id},{toke:!0}).then((function(i){return t.loading=t.disabled=!1,t.$store.commit("editUserInfoField",{key:"email",value:t.email}),uni.showToast({title:"设置成功！",success:function(){uni.navigateBack({delta:1})}})})).catch((function(t){console.log(t)}))},isEmail:function(){var t=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;return t.test(this.email)}}};i.default=o},"5f52":function(t,i,n){"use strict";n.r(i);var e=n("af15"),a=n("a42c");for(var s in a)"default"!==s&&function(t){n.d(i,t,(function(){return a[t]}))}(s);n("8d9f");var o,u=n("f0c5"),c=Object(u["a"])(a["default"],e["b"],e["c"],!1,null,"42a076a2",null,!1,e["a"],o);i["default"]=c.exports},"8d9f":function(t,i,n){"use strict";var e=n("d183"),a=n.n(e);a.a},a42c:function(t,i,n){"use strict";n.r(i);var e=n("1004"),a=n.n(e);for(var s in e)"default"!==s&&function(t){n.d(i,t,(function(){return e[t]}))}(s);i["default"]=a.a},ac9d:function(t,i,n){var e=n("24fb");i=e(!1),i.push([t.i,".tp-box[data-v-42a076a2]{width:100%;min-height:100vh;background:#fff}.tp-panel>uni-view[data-v-42a076a2]{border-bottom:%?1?% solid #e1e1e1}.tp-panel>uni-view>uni-input[data-v-42a076a2]{color:#666;font-size:%?30?%}.tp-tips[data-v-42a076a2]{font-size:%?26?%;line-height:%?44?%;color:#999}.tp-plc[data-v-42a076a2]{font-size:%?30?%;font-weight:500;color:#999}",""]),t.exports=i},af15:function(t,i,n){"use strict";var e;n.d(i,"b",(function(){return a})),n.d(i,"c",(function(){return s})),n.d(i,"a",(function(){return e}));var a=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("v-uni-view",{staticClass:"tp-box tp-flex tp-flex-col tp-box-sizing tp-pd-l-r-30"},[n("v-uni-view",{staticClass:"tp-panel tb-flex tp-box-sizing"},[n("v-uni-view",{staticClass:"tp-box-sizing tp-pd-t-b-25"},[n("v-uni-input",{attrs:{type:"text",value:"",placeholder:"请输入电子邮箱!","placeholder-class":"tp-plc"},model:{value:t.email,callback:function(i){t.email=i},expression:"email"}})],1)],1),n("v-uni-view",{staticClass:"tp-panel tp-tips tp-box-sizing tp-mg-t-15"},[t._v("请输入您的电子邮箱！")])],1)},s=[]},d183:function(t,i,n){var e=n("ac9d");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=n("4f06").default;a("fb6bdf76",e,!0,{sourceMap:!1,shadowMode:!1})}}]);